<form method="POST">
    {% csrf_token %}
    <h3>결제 정보 입력</h3>
    <p>총 결제 금액: {{ total_price }} 원</p>

    <label>카드 번호:</label>
    <input type="text" name="card_number1" maxlength="4" pattern="\d{4}" required>
    <input type="text" name="card_number2" maxlength="4" pattern="\d{4}" required>
    <input type="text" name="card_number3" maxlength="4" pattern="\d{4}" required>
    <input type="text" name="card_number4" maxlength="4" pattern="\d{4}" required>
    <br>

    <label>유효기간 (YYMM):</label>
    <input type="text" name="expiry" placeholder="2512" pattern="\d{4}" required><br>

    <label>생년월일 (YYMMDD):</label>
    <input type="text" name="birth" placeholder="880101" pattern="\d{6}" required><br>

    <label>비밀번호 앞 2자리:</label>
    <input type="text" name="pwd_2digit" placeholder="12" pattern="\d{2}" required><br>

    <button type="submit">결제하기</button>
</form>

<script>
    // 카드 번호 입력 필드 자동 이동
    document.querySelectorAll('input[name^="card_number"]').forEach((input, index, arr) => {
        input.addEventListener('input', function () {
            if (this.value.length === 4 && index < arr.length - 1) {
                arr[index + 1].focus();
            }
        });
    });
</script>
