{% extends 'base.html' %}
{% load humanize %}
{% block content %}
<div>
    <h2>내 정보 수정</h2>
    <form method="post" action="{% url 'my_page' %}">
        {% csrf_token %}
        <table>
            <!-- User ID -->
            <tr>
                <td><label for="id_userid">아이디</label></td>
                <td>
                    <input type="text" id="id_userid" name="userid" value="{{ form.userid.value }}" readonly>
                    {% if form.userid.errors %}
                        <div style="color: red;">{{ form.userid.errors.0 }}</div>
                    {% endif %}
                </td>
            </tr>

            <!-- Email -->
            <tr>
                <td><label for="id_email">이메일</label></td>
                <td>
                    <input type="email" id="id_email" name="email" value="{{ form.email.value }}">
                    {% if form.email.errors %}
                        <div style="color: red;">{{ form.email.errors.0 }}</div>
                    {% endif %}
                </td>
            </tr>

            <!-- First Name -->
            <tr>
                <td><label for="id_first_name">이름</label></td>
                <td>
                    <input type="text" id="id_first_name" name="first_name" value="{{ form.first_name.value }}">
                    {% if form.first_name.errors %}
                        <div style="color: red;">{{ form.first_name.errors.0 }}</div>
                    {% endif %}
                </td>
            </tr>

            <!-- Last Name -->
            <tr>
                <td><label for="id_last_name">성</label></td>
                <td>
                    <input type="text" id="id_last_name" name="last_name" value="{{ form.last_name.value }}">
                    {% if form.last_name.errors %}
                        <div style="color: red;">{{ form.last_name.errors.0 }}</div>
                    {% endif %}
                </td>
            </tr>

            <!-- Company -->
            <tr>
                <td><label for="id_company">회사명</label></td>
                <td>
                    <input type="text" id="id_company" name="company" value="{{ form.company.value }}">
                    {% if form.company.errors %}
                        <div style="color: red;">{{ form.company.errors.0 }}</div>
                    {% endif %}
                </td>
            </tr>

            <!-- Gender -->
            <tr>
                <td><label for="id_gender">성별</label></td>
                <td>
                    <select id="id_gender" name="gender">
                        <option value="" {% if not form.gender.value %}selected{% endif %}>선택</option>
                        <option value="male" {% if form.gender.value == "male" %}selected{% endif %}>남성</option>
                        <option value="female" {% if form.gender.value == "female" %}selected{% endif %}>여성</option>
                    </select>
                    {% if form.gender.errors %}
                        <div style="color: red;">{{ form.gender.errors.0 }}</div>
                    {% endif %}
                </td>
            </tr>

            <!-- Birth Date -->
            <tr>
                <td><label for="id_birth_date">생년월일</label></td>
                <td>
                    <input type="date" id="id_birth_date" name="birth_date" value="{{ form.birth_date.value|date:'Y-m-d' }}">
                    {% if form.birth_date.errors %}
                        <div style="color: red;">{{ form.birth_date.errors.0 }}</div>
                    {% endif %}
                </td>
            </tr>

            <!-- Phone Number -->
            <tr>
                <td><label for="id_phone_number">연락처</label></td>
                <td>
                    <input type="text" id="id_phone_number" name="phone_number" value="{{ form.phone_number.value }}">
                    {% if form.phone_number.errors %}
                        <div style="color: red;">{{ form.phone_number.errors.0 }}</div>
                    {% endif %}
                </td>
            </tr>

            <!-- Mobile Number -->
            <tr>
                <td><label for="id_mobile_number">휴대전화</label></td>
                <td>
                    <input type="text" id="id_mobile_number" name="mobile_number" value="{{ form.mobile_number.value }}">
                    {% if form.mobile_number.errors %}
                        <div style="color: red;">{{ form.mobile_number.errors.0 }}</div>
                    {% endif %}
                </td>
            </tr>

            <!-- Address -->
            <tr>
                <td><label for="id_address">주소</label></td>
                <td>
                    <input type="text" id="id_address" name="address" value="{{ form.address.value }}">
                    {% if form.address.errors %}
                        <div style="color: red;">{{ form.address.errors.0 }}</div>
                    {% endif %}
                </td>
            </tr>

            <!-- Homepage -->
            <tr>
                <td><label for="id_homepage">홈페이지</label></td>
                <td>
                    <input type="text" id="id_homepage" name="homepage" value="{{ form.homepage.value }}">
                    {% if form.homepage.errors %}
                        <div style="color: red;">{{ form.homepage.errors.0 }}</div>
                    {% endif %}
                </td>
            </tr>

            <!-- Recommender ID -->
            <tr>
                <td><label for="id_recommender_id">추천인(아이디)</label></td>
                <td>
                    <input type="text" id="id_recommender_id" name="recommender_id" value="{{ form.recommender_id.value }}">
                    {% if form.recommender_id.errors %}
                        <div style="color: red;">{{ form.recommender_id.errors.0 }}</div>
                    {% endif %}
                </td>
            </tr>

            <!-- Additional Info -->
            <tr>
                <td><label for="id_additional_info">하실 말씀</label></td>
                <td>
                    <textarea id="id_additional_info" name="additional_info" rows="4">{{ form.additional_info.value }}</textarea>
                    {% if form.additional_info.errors %}
                        <div style="color: red;">{{ form.additional_info.errors.0 }}</div>
                    {% endif %}
                </td>
            </tr>
        </table>

        <button type="submit">수정하기</button>
    </form>
</div>
{% endblock %}
